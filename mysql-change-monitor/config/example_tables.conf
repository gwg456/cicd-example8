# MySQL 数据库变更监控 - 表配置示例
# 根据不同需求选择合适的配置方案

# ==============================================
# 方案1: 电商系统表监控
# ==============================================
ecommerce_tables:
  mode: whitelist
  databases:
    - ecommerce_db
  target_tables:
    # 用户模块
    - "ecommerce_db.users"
    - "ecommerce_db.user_profiles" 
    - "ecommerce_db.user_addresses"
    - "ecommerce_db.user_payment_methods"
    
    # 商品模块
    - "ecommerce_db.products"
    - "ecommerce_db.product_categories"
    - "ecommerce_db.product_inventory"
    - "ecommerce_db.product_prices"
    
    # 订单模块
    - "ecommerce_db.orders"
    - "ecommerce_db.order_items"
    - "ecommerce_db.order_status_history"
    
    # 支付模块
    - "ecommerce_db.payments"
    - "ecommerce_db.payment_transactions"
    - "ecommerce_db.refunds"
    
    # 营销模块
    - "ecommerce_db.coupons"
    - "ecommerce_db.promotions"
    - "ecommerce_db.user_coupons"

# ==============================================
# 方案2: 金融系统表监控  
# ==============================================
finance_tables:
  mode: whitelist
  databases:
    - finance_db
  target_tables:
    # 账户模块
    - "finance_db.accounts"
    - "finance_db.account_balances"
    - "finance_db.account_history"
    
    # 交易模块
    - "finance_db.transactions"
    - "finance_db.transaction_logs" 
    - "finance_db.settlement_records"
    
    # 风控模块
    - "finance_db.risk_rules"
    - "finance_db.risk_events"
    - "finance_db.blacklist"
    
    # 用户模块
    - "finance_db.customers"
    - "finance_db.customer_kyc"
    - "finance_db.customer_ratings"

# ==============================================
# 方案3: 内容管理系统表监控
# ==============================================
cms_tables:
  mode: whitelist
  databases:
    - cms_db
  target_tables:
    # 内容模块
    - "cms_db.articles"
    - "cms_db.categories"
    - "cms_db.tags"
    - "cms_db.comments"
    
    # 用户模块
    - "cms_db.users"
    - "cms_db.user_roles"
    - "cms_db.permissions"
    
    # 媒体模块
    - "cms_db.media_files"
    - "cms_db.galleries"

# ==============================================
# 方案4: 只监控特定关键表
# ==============================================
critical_only:
  mode: whitelist
  databases:
    - production_db
  target_tables:
    - "production_db.users"          # 用户表
    - "production_db.orders"         # 订单表  
    - "production_db.payments"       # 支付表
    - "production_db.admin_users"    # 管理员表

# ==============================================
# 方案5: 按表名模式监控
# ==============================================
pattern_based:
  mode: whitelist
  databases:
    - app_db
  target_tables:
    # 监控所有audit结尾的表
    - "app_db.*_audit"
    
    # 监控所有log开头的表
    - "app_db.log_*"
    
    # 监控core模块的表
    - "app_db.core_*"
    
    # 监控特定表
    - "app_db.important_data"
    - "app_db.sensitive_info"

# ==============================================
# 方案6: 黑名单模式（排除不重要的表）
# ==============================================
blacklist_mode:
  mode: blacklist
  databases:
    - full_db
  exclude_tables:
    # 排除临时表
    - "full_db.temp_*"
    - "full_db.tmp_*"
    
    # 排除缓存表
    - "full_db.cache_*"
    - "full_db.session_*"
    
    # 排除日志表（如果不需要监控）
    - "full_db.access_logs"
    - "full_db.error_logs"
    
    # 排除测试表
    - "full_db.test_*"
    - "full_db.dev_*"

# ==============================================
# 方案7: 多数据库监控
# ==============================================
multi_database:
  mode: whitelist
  databases:
    - user_db
    - order_db
    - payment_db
  target_tables:
    # 用户数据库
    - "user_db.users"
    - "user_db.user_profiles"
    
    # 订单数据库
    - "order_db.orders"
    - "order_db.order_items"
    
    # 支付数据库
    - "payment_db.payments"
    - "payment_db.transactions"

# ==============================================
# 使用说明
# ==============================================
# 1. 选择合适的方案复制到 monitor.conf 的 monitoring 部分
# 2. 根据实际数据库名和表名修改配置
# 3. 白名单模式: 只监控指定的表，更精确
# 4. 黑名单模式: 监控所有表除了排除的，更全面
# 5. 支持通配符 * 匹配多个表
# 6. 表名格式支持 "database.table" 或 "table"

# ==============================================
# 快速配置模板
# ==============================================
quick_template:
  mode: whitelist
  databases:
    - YOUR_DATABASE_NAME  # 替换为您的数据库名
  target_tables:
    # 核心业务表 - 根据需要修改
    - "YOUR_DATABASE_NAME.users"
    - "YOUR_DATABASE_NAME.orders"  
    - "YOUR_DATABASE_NAME.products"
    - "YOUR_DATABASE_NAME.payments"
    
    # 添加您需要监控的其他表
    # - "YOUR_DATABASE_NAME.table_name"